<!doctype html>
<html>

<head>
    <title>Two.js</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/two.js/0.6.0/two.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
    <div id="drawing"></div>
    <script>
        var x, y, line, mouse = new Two.Vector();
        var centerX = window.innerWidth / 2;
        var centerY = window.innerHeight / 2;
        var elem = document.getElementById("drawing");
        var two = new Two({ fullscreen: true }).appendTo(elem);

        function makePoint(x, y) {
            if (arguments.length <= 1) {
                y = x.y;
                x = x.x;
            }

            var v = new Two.Vector(x, y);
            v.position = new Two.Vector().copy(v);

            return v;
        }

        var drag = function (e) {
            x = e.clientX;
            y = e.clientY;
            if (!line) {
                var v1 = makePoint(mouse);
                var v2 = makePoint(x, y);
                line = two.makeCurve([v1, v2], true);
                line.noFill().stroke = "#"+((1<<24)*Math.random()|0).toString(16);
                line.linewidth = 4;
                _.each(line.vertices, function (v) {
                    v.addSelf(line.translation);
                });
                line.translation.clear();
            } else {
                var v1 = makePoint(x, y);
                line.vertices.push(v1);
            }
            mouse.set(x, y);
        };
		
		var dragEnd = function (e) {
            $(window)
                .unbind('mousemove', drag)
                .unbind('mouseup', dragEnd);
        };

        two
            .bind("update", function (frameCount) {
            })
            .play();
		
		var touchDrag = function(e) {
            e.preventDefault();
            var touch = e.originalEvent.changedTouches[0];
            drag({
              clientX: touch.pageX,
              clientY: touch.pageY
            });
            return false;
          };

          var touchEnd = function(e) {
            e.preventDefault();
            $(window)
              .unbind('touchmove', touchDrag)
              .unbind('touchend', touchEnd);
            return false;
          };

        $(window)
            .bind('mousedown', function (e) {
                mouse.set(e.clientX, e.clientY);
                line = null;
                $(window)
                    .bind('mousemove', drag)
                    .bind('mouseup', dragEnd);
                return false;
				.bind('touchstart', function(e) {
              e.preventDefault();
              var touch = e.originalEvent.changedTouches[0];
              mouse.set(touch.pageX, touch.pageY);
              line = null;
              $(window)
                .bind('touchmove', touchDrag)
                .bind('touchend', touchEnd);
              return false;
            });
    </script>
</body>

</html>